---
layout: post
title: "Mongodb Basic"
date: 2020-03-12 23:02:19 +0800
comments: true
categories: mongodb db
---

mongo 基本操作

<!-- more -->


刪除 db

```
mongo <dbname> --eval "db.dropDatabase()"
```

* [How do I drop a MongoDB database from the command line?](https://stackoverflow.com/questions/8857276/how-do-i-drop-a-mongodb-database-from-the-command-line)

顯示 db

```ruby
show dbs
```

進去 db

```ruby
use <dbname>
```

顯示 collections

```ruby
show collections
```

查詢

```ruby
db.<collectionNmae>.find()
```

備份 db

```ruby
mongodump -h 127.0.0.1 -d my-mongo -o ./mongo-backup

# -h: 要備份的 MongoDB 連線位置
# -d: 要備份的 Database 名稱
# -u: 資料庫使用者名稱
# -p: 資料庫密碼
```

還原 db

```ruby
mongorestore -h 127.0.0.1 -d my-mongo-new --directoryperdb ./mongo-backup/my-mongo

# -h: 要還原的 MongoDB 連線位置
# -d: 要還原的 Database 名稱
# -u: 資料庫使用者名稱
# -p: 資料庫密碼
# --directoryperdb: 指定要還原的資料庫檔案來源目錄名稱
# --drop: 如果資料庫存在就刪除重新建立 (小心使用)
```

* [MongoDB 教學 – 如何備份與還原 MongoDB](https://blog.toright.com/posts/4069/mongodb-%E6%95%99%E5%AD%B8-%E5%A6%82%E4%BD%95%E5%82%99%E4%BB%BD%E8%88%87%E9%82%84%E5%8E%9F-mongodb.html)
* [MongoDB 基礎入門教學：MongoDB Shell 篇](https://blog.gtwang.org/programming/getting-started-with-mongodb-shell-1/)
