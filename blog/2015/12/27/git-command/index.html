
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Git 指令操作手冊 - Leon's Blogging</title>
  <meta name="author" content="LeonJi">

  
  <meta name="description" content="Git 博大精深，必須花很多時間去學習，從做中學會更快
因此這篇主要用來記錄 Git 的指令和操作，增加記憶，也方便後續查詢。 區域 工作目錄 Working tree
暫存準備遞交區 Staging Area (index索引)
儲存庫 Repository 狀態 沒有被追蹤的檔案 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mgleon08.github.com/blog/2015/12/27/git-command">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Leon's Blogging" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet" type="text/css">
<!--- MathJax Configuration -->
<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-45177377-6', 'auto');
    ga('send', 'pageview');

  </script>



</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Leon's Blogging</a></h1>
  
    <h2>coding blogging for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscribe" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewbox="0 0 100 100"><path class="social" d="M 13.310204,73.332654 C 5.967347,73.332654 0,79.322448 0,86.621428 c 0,7.338776 5.967347,13.262246 13.310204,13.262246 7.370408,0 13.328572,-5.92245 13.328572,-13.262246 0,-7.29898 -5.958164,-13.288774 -13.328572,-13.288774 z M 0.01530612,33.978572 V 53.143878 C 12.493878,53.143878 24.229592,58.02347 33.068368,66.865306 41.894898,75.685714 46.767346,87.47449 46.767346,100 h 19.25 C 66.017346,63.592858 36.4,33.979592 0.01530612,33.978572 l 0,0 z M 0.03877552,0 V 19.17449 C 44.54796,19.17551 80.77551,55.437756 80.77551,100 H 100 C 100,44.87653 55.15102,0 0.03877552,0 z"></path></svg></a></li>
  
</ul>
  
  
  
  
  
<ul class="subscribe">
  <li><a href="https://github.com/mgleon08" rel="subscribe-github" title="@mgleon08 on GitHub" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewbox="0 0 100 100"><path class="social" d="M 50,0 C 22.385714,0 0,22.385714 0,50 0,77.614286 22.385714,100 50,100 77.614286,100 100,77.614286 100,50 100,22.385714 77.614286,0 50,0 z m 29.692858,79.692858 c -3.859184,3.859182 -8.351022,6.887754 -13.35,9.00306 -1.27041,0.536736 -2.560204,1.009184 -3.867348,1.415306 v -7.493878 c 0,-3.938774 -1.35102,-6.835714 -4.053062,-8.690816 1.692858,-0.163264 3.24694,-0.390816 4.663266,-0.683672 1.416326,-0.292858 2.913266,-0.716328 4.491838,-1.27041 1.57857,-0.55408 2.994896,-1.213264 4.247958,-1.97755 1.253062,-0.765306 2.458164,-1.758164 3.613266,-2.978572 1.155102,-1.220408 2.12449,-2.604082 2.905102,-4.15 0.780612,-1.545918 1.4,-3.40204 1.855102,-5.566326 0.455102,-2.164286 0.683674,-4.54898 0.683674,-7.153062 0,-5.045918 -1.643878,-9.341836 -4.931634,-12.890816 C 77.44796,33.35 77.285714,29.10204 75.463266,24.512244 l -1.22143,-0.145918 c -0.845918,-0.09796 -2.368366,0.260204 -4.565306,1.07449 -2.196938,0.814286 -4.663264,2.14796 -7.396938,4.004082 -3.87449,-1.07449 -7.893878,-1.611224 -12.061224,-1.611224 -4.19898,0 -8.203062,0.536734 -12.012246,1.611224 -1.72449,-1.17245 -3.361224,-2.139796 -4.907142,-2.905102 C 31.753062,25.77449 30.516326,25.254082 29.587756,24.97653 28.660204,24.7 27.79796,24.528572 27,24.463266 c -0.79796,-0.0653 -1.310204,-0.08062 -1.537756,-0.04898 -0.22755,0.03164 -0.390816,0.0653 -0.487754,0.09796 -1.82347,4.62245 -1.985714,8.87143 -0.487756,12.743878 -3.287754,3.54796 -4.931632,7.844898 -4.931632,12.890816 0,2.604082 0.227552,4.988776 0.683674,7.153062 0.456122,2.164286 1.07449,4.020408 1.855102,5.566326 0.780612,1.545918 1.75,2.929592 2.905102,4.15 1.155102,1.220408 2.360204,2.213266 3.613264,2.978572 1.253062,0.766326 2.669388,1.42449 4.24796,1.97755 1.578572,0.554082 3.07551,0.976532 4.491836,1.27041 1.416328,0.292856 2.970408,0.521428 4.663266,0.683672 -2.669388,1.82347 -4.004082,4.720408 -4.004082,8.690816 v 7.639796 C 36.536734,89.818368 35.083674,89.3 33.656122,88.695918 c -4.99898,-2.115306 -9.490816,-5.143878 -13.35,-9.00306 -3.859184,-3.859184 -6.887754,-8.351022 -9.00306,-13.35 C 9.1163263,61.171428 8.0071428,55.67347 8.0071428,50 c 0,-5.67347 1.1091835,-11.171428 3.2969392,-16.342858 2.115306,-4.998978 5.143878,-9.490816 9.00306,-13.35 3.859184,-3.859182 8.351022,-6.887754 13.35,-9.00306 C 38.828572,9.1163266 44.32653,8.0071428 50,8.0071428 c 5.67347,0 11.171428,1.1091838 16.342858,3.2969392 5,2.115306 9.490816,5.143878 13.35,9.00306 3.859182,3.859184 6.887754,8.351022 9.00306,13.35 2.186736,5.17245 3.295918,10.67041 3.295918,16.342858 0,5.672448 -1.109182,11.171428 -3.296938,16.342858 -2.115306,4.998978 -5.143878,9.490816 -9.00204,13.35 l 0,0 z"></path></svg></a></li>
</ul>
  
  
  
  
  
  
  
  
    
      <form action="https://www.google.com/search" method="get">
        <fieldset role="search">
          <input type="hidden" name="sitesearch" value="mgleon08.github.com" />
    
          <input class="search" type="text" name="q" results="0" placeholder="Search"/>
        </fieldset>
      </form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/categories/ruby-tips/">Ruby Tips</a></li>
  <li><a href="/blog/categories/golang/">Golang</a></li>
  <li><a href="/blog/categories/docker/">Docker</a></li>
  <li><a href="/tool">Tool</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">Git 指令操作手冊</h1>
      
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-12-27T20:56:35+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>8:56 pm</span></time>
        
         | <a href="#disqus_thread">Comments</a>
        
        
      </p>
    
  </header>


<div class="entry-content"><p>Git 博大精深，必須花很多時間去學習，從做中學會更快
因此這篇主要用來記錄 Git 的指令和操作，增加記憶，也方便後續查詢。</p>

<!-- more -->


<h1>區域</h1>

<ol>
<li>工作目錄 Working tree</li>
<li>暫存準備遞交區 Staging Area (index索引)</li>
<li>儲存庫 Repository</li>
</ol>


<h1>狀態</h1>

<ol>
<li>沒有被追蹤的檔案 Untracked files</li>
<li>有修改、還沒準備要被遞交 Changes not staged for commit</li>
<li>有修改、準備要被遞交的檔案(在Staging Area) Changes to be committed</li>
<li>已經被遞交的檔案 Committed</li>
</ol>


<h1>符號</h1>

<ol>
<li>HEAD

<ul>
<li>永遠會指向「工作目錄」中所設定的「分支」當中的「最新版」。</li>
<li>所以當你在這個分支執行 git commit 後，這個 HEAD 符號參照也會更新成該分支最新版的那個 commit 物件。</li>
</ul>
</li>
<li>ORIG_HEAD

<ul>
<li>簡單來說就是 HEAD 這個 commit 物件的「前一版」，經常用來復原上一次的版本變更。</li>
<li><a href="http://stackoverflow.com/questions/964876/head-and-orig-head-in-git">HEAD and ORIG_HEAD in Git</a></li>
</ul>
</li>
<li>FETCH_HEAD

<ul>
<li>使用遠端儲存庫時，可能會使用 git fetch 指令取回所有遠端儲存庫的物件。這個 FETCH_HEAD 符號參考則會記錄遠端儲存庫中每個分支的 HEAD (最新版) 的「絕對名稱」。</li>
</ul>
</li>
<li>MERGE_HEAD

<ul>
<li>當你執行合併工作時 (關於合併的議題會在日後的文章中會提到)，「合併來源｣的 commit 物件絕對名稱會被記錄在 MERGE_HEAD 這個符號參照中。</li>
</ul>
</li>
</ol>


<h1>基本設定</h1>

<ul>
<li><code>git config --global user.name "&lt;使用者名字&gt;"</code> (個別專案可用 &ndash;local)</li>
<li><code>git config --global user.email "&lt;電子信箱&gt;"</code> (個別專案可用 &ndash;local)</li>
<li><code>git config --list</code>　看 Git 設定內容</li>
<li><code>git config --global alias.st status</code>　縮短字串（將 git status 縮寫為 git st）</li>
<li><code>git config --global color.ui true</code>　設定輸出顏色</li>
<li><code>git config --global apply.whitespace nowarn</code> 空白對有些語言是有影響的(像是Ruby)，因此我們會希望 Git 去忽略空白的變化</li>
<li><code>git config --global alias.co checkout</code> 設定 alias</li>
</ul>


<p>以上皆可直接 <code>vim ~/.gitconfig</code> 去做修正</p>

<h1>基本功能</h1>

<h3>basic</h3>

<ul>
<li><code>git --version</code> 查看目前版本。</li>
<li><code>git help [指令]</code> 查詢完整的文件。</li>
<li><code>git init</code> 建立 Repository。</li>
<li><code>git clone [url]</code> 複製遠端專案。</li>
<li><code>git mv [filename] [new filename]</code> 更改檔案名稱。(此更改檔案的動作會列入版本控制中)</li>
<li><code>git show [SHA1]</code> 查出該版本的相關資訊。(可搭配 <code>git log</code> 找出有問題的版本)</li>
</ul>


<h3>add</h3>

<ul>
<li><code>git add .</code> 將當前目錄<code>所有</code>檔案加入到 Staging Area。(雖然方便但很容易會不小心加入一些其他不必要的檔案)</li>
<li><code>git add [filename]</code> 將檔案加入到 Staging Area。</li>
<li><code>git add -u</code>，只註冊已提交過的檔案到索引。</li>
<li><code>git add -i</code>，會以互動方式詢問要加入到Staging Area裡的檔案。</li>
<li><code>git add -p</code>，可以選擇只加入檔案中修改的其中一部分。</li>
</ul>


<p><a href="http://stackoverflow.com/questions/1085162/commit-only-part-of-a-file-in-git">Commit only part of a file in Git</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>`y` stage this hunk for the next commit
</span><span class='line'>`n` do not stage this hunk for the next commit
</span><span class='line'>`q` quit; do not stage this hunk or any of the remaining ones
</span><span class='line'>`a` stage this hunk and all later hunks in the file
</span><span class='line'>`d` do not stage this hunk or any of the later hunks in the file
</span><span class='line'>`g` select a hunk to go to
</span><span class='line'>`/` search for a hunk matching the given regex
</span><span class='line'>`j` leave this hunk undecided, see next undecided hunk
</span><span class='line'>`J` leave this hunk undecided, see next hunk
</span><span class='line'>`k` leave this hunk undecided, see previous undecided hunk
</span><span class='line'>`K` leave this hunk undecided, see previous hunk
</span><span class='line'>`s` split the current hunk into smaller hunks
</span><span class='line'>`e` manually edit the current hunk
</span><span class='line'>`?` print help</span></code></pre></td></tr></table></div></figure>


<h3>rm</h3>

<ul>
<li><code>git rm [filename]</code> 刪除檔案，包括實體檔案。(此刪除檔案的動作會列入版本控制中)</li>
<li><code>git rm --cached a.txt</code> 只想刪除索引檔中的該檔，又要保留工作目錄下的實體檔案。</li>
</ul>


<h3>commit</h3>

<ul>
<li><code>git commit</code> 將 Staging Area 檔案 commit。</li>
<li><code>git commit -m [commit 訊息]</code> 直接寫入 commit 訊息。</li>
<li><code>git commit -am [commit 訊息]</code> 等於 <code>git add .</code> + <code>git commit -m</code>。</li>
<li><code>git commit --amend</code> 合併到上一個 commit 訊息。</li>
<li><code>git commit --amend --no-edit</code> 合併到上一個 commit 訊息，並且不需要更改訊息</li>
</ul>


<h3>status</h3>

<ul>
<li><code>git status</code> 檢視檔案的狀態。</li>
<li><code>git status -s</code> 顯示精簡的狀態。</li>
<li><code>git status -b</code> 顯示分支的名稱。</li>
</ul>


<h1>分支</h1>

<h3>branch</h3>

<ul>
<li><code>git branch</code> 列出所有本地端的 branch。</li>
<li><code>git branch -r</code> 列出所有遠端的 branch。</li>
<li><code>git branch -a</code> 列出所有本地及遠端的 branch。</li>
<li><code>git branch [branch]</code> 建立一個新的 branch。</li>
<li><code>git branch -m [oldbranch] [newbranch]</code> 修改分支的名稱， <code>-M</code> 強制。</li>
<li><code>git branch -d [branchname]</code> 刪除 branch，未合併的無法刪除，必須改用 <code>-D</code> 強制刪除。</li>
<li><code>git branch --merged maste</code> lists branches merged into master</li>
<li><code>git branch --merged</code> lists branches merged into HEAD (i.e. tip of current branch)</li>
<li><code>git branch --no-merged</code> lists branches that have not been merged</li>
</ul>


<h3>checkout</h3>

<ul>
<li><code>git checkout [branch]</code> 切換到該 branch。</li>
<li><code>git checkout -b [branch]</code>建立一個新的 branch 並切換到該 branch。</li>
</ul>


<blockquote><p>切換 working tree 的 branch 時,如果有檔案，在 staging area 或是 modified，會無法切換。可以先 commit，只要不 push 出去，再 <code>reset</code> 回來即可。或是用 <code>stash</code> 的方式</p></blockquote>

<h1>合併</h1>

<h3>merge</h3>

<ul>
<li><code>git merge [branch]</code> 將指定 branch 合併到目前的 branch</li>
<li><code>git merge [branch] --no-ff</code> 不使用 fast-forward 合併。可以保留分支合併的紀錄。</li>
</ul>


<h1>修正</h1>

<h3>reset</h3>

<ul>
<li><code>git reset</code> 將所有檔案從 Staging Area 到 Working tree。</li>
<li><code>git reset HEAD [filename]</code> 將檔案從 Staging Area 取消到 Working tree。</li>
<li><code>git reset --hard HEAD</code> 放棄目前所有修改，返回到最新的commit。</li>
<li><code>git reset HEAD^</code> 刪除最近一次的版本紀錄，但保留修改過的檔案。(回到working tree)</li>
<li><code>git reset --soft HEAD^</code> 刪除最近一次的版本紀錄，但保留修改過的檔案。(回到staging area)</li>
<li><code>git reset --hard HEAD^</code> 刪除最近一次的版本紀錄，清除修改過的檔案。(完全消失)</li>
</ul>


<blockquote><p>HEAD 後面可接 <code>^</code> 表示回到上個版本， <code>^^</code> 回到上兩個版本，以此類推
也可以用 <code>~</code>，或是 <code>^2</code> or <code>~2</code>，都不加就是回到目前最新的版本</p></blockquote>

<ul>
<li><code>git reset --hard ORIG_HEAD</code> 刪除最近一次的版本，但保留最後一次的變更。</li>
</ul>


<h3>revert</h3>

<blockquote><p>revert是新增一個commit來做還原，<code>git revert</code> 會用一個新的 commit 來回復所有的變更。(適合已經push出去給別人的情境)</p></blockquote>

<h3>rebase</h3>

<ul>
<li><code>git rebase</code> 重新修改特定分支的「基礎版本」，把另外一個分支的變更，當成這個分支的基礎。(如果接著直接 merge，則是會直接 fast-forward ，若想保留資訊則加上  <code>--no-ff</code>)</li>
<li><a href="https://blog.yorkxin.org/posts/2011/07/29/git-rebase/">Git-rebase 小筆記</a></li>
<li><code>git rebase -i [SHA1]</code> 可以只接更改某個 commit 之後所有的紀錄。</li>
<li><a href="https://github.com/doggy8088/Learn-Git-in-30-days/blob/master/docs/22%20%E4%BF%AE%E6%AD%A3%20commit%20%E9%81%8E%E7%9A%84%E7%89%88%E6%9C%AC%E6%AD%B7%E5%8F%B2%E7%B4%80%E9%8C%84%20Part%204%20(rebase">rebase -i 修正 commit 過的版本歷史紀錄1</a>.markdown)</li>
<li><a href="https://github.com/doggy8088/Learn-Git-in-30-days/blob/master/docs/23%20%E4%BF%AE%E6%AD%A3%20commit%20%E9%81%8E%E7%9A%84%E7%89%88%E6%9C%AC%E6%AD%B7%E5%8F%B2%E7%B4%80%E9%8C%84%20Part%205%20(rebase%202">rebase -i 修正 commit 過的版本歷史紀錄2</a>.markdown)</li>
<li><code>git rebase --onto &lt;new base-commit&gt; &lt;current base-commit&gt;</code> 指定要從哪裡開始接枝</li>
<li>有 conflict 修改好後，<code>git rebase --continue</code></li>
<li>直接從 rebase 狀態離開 <code>git rebase --abort</code></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pick   = 要這條 commit ，什麼都不改
</span><span class='line'>reword = 要這條 commit ，但要改 commit message
</span><span class='line'>edit   = 要這條 commit，但要改 commit 的內容
</span><span class='line'>squash = 要這條 commit，但要跟前面那條合併，並保留這條的 messages
</span><span class='line'>fixup  = squash + 只使用前面那條 commit 的 message ，捨棄這條 message
</span><span class='line'>exec   = 執行一條指令</span></code></pre></td></tr></table></div></figure>


<h3>cherry-pick</h3>

<ul>
<li><code>git cherry-pick</code> 手動挑出其他 branch 中的 commit，合併進來。</li>
<li><code>git cherry-pick [SHA1] -e</code> 建立版本前先編輯訊息。</li>
<li><code>git cherry-pick [SHA1] -n</code> 不建立版本，僅套用其變更。</li>
</ul>


<h3>checkout</h3>

<ul>
<li><code>git checkout [filename]</code> 取消 Working tree 檔案。</li>
<li><code>git checkout master [filename]</code> 把 master 分支中最新版的檔案給還原。</li>
</ul>


<h1>暫存</h1>

<ul>
<li><code>git stash</code> 會將所有已列入追蹤(tracked)的檔案建立暫存版。</li>
<li><code>git stash -u</code>　會包括所有已追蹤或未追蹤的檔案，全部都建立成暫存版。</li>
<li><code>git stash list</code> 顯示出所有的暫存清單。</li>
<li><code>git stash clear</code> 清除所有暫存。</li>
<li><code>git stash pop</code> 復原最新的操作並將他從暫存清單中移除。</li>
<li><code>git stash apply</code> 復原最新的操作，與<code>pop</code>唯一差別則是取回該版本 (其實是執行合併動作) 後，該暫存版還會留在 stash 清單上。(取出最新的一筆 stash 暫存資料. 但是 stash 資料不移除)</li>
<li><code>git stash drop</code> 刪除最新的暫存操作。</li>
<li><code>git stash show stash@{0}</code> 看暫存陣列裡的第一個</li>
</ul>


<blockquote><p>指定stash ID（如：stash@{1}），則可以復原特定的操作</p></blockquote>

<h1>遠端</h1>

<ul>
<li><code>git remote add origin [url]</code> 註冊遠端儲存庫。</li>
<li><code>git clone [url]</code> 將遠端儲存庫複製到本地，並建立工作目錄與本地儲存庫。</li>
<li><code>git push -u origin master</code> 將本地儲存庫中目前分支的所有相關物件推送到遠端儲存庫中。</li>
<li><code>git fetch</code> 將遠端儲存庫的最新版下載回來，下載的內容包含完整的物件儲存庫(object storage)。 這個命令不包含「合併」分支的動作。</li>
<li><code>git pull -u origin master</code> 將遠端資料庫拉下來，並且合併，相當於 <code>git fetch</code> + <code>git merge</code>。</li>
</ul>


<blockquote><p>加上 <code>-u</code> 後續就只要 <code>git push</code> 和 <code>git pull</code> 即可。
<code>-u</code> 相當於 <code>--set-upstream</code> 用來追蹤遠端的分支，因此要取消追蹤為 <code>--unset-upstream</code></p></blockquote>

<ul>
<li><code>git push --force</code> 可將 github 上的 <code>commit</code> 全部覆蓋掉。</li>
<li><p><code>git pull --rebase origin [brance]</code> pull 遠端用 rebase 的方式。</p></li>
<li><p><a href="https://zlargon.gitbooks.io/git-tutorial/content/remote/upstream.html">upstream</a></p></li>
<li><a href="https://walterlv.github.io/post/safe-push-using-force-with-lease.html">Git 更安全的強制推送，&ndash;force-with-lease</a></li>
</ul>


<h1>差異</h1>

<ul>
<li><code>git diff</code> 比對「Working tree」與「Staging Area」之間的差異。</li>
<li><code>git diff commit</code> 比對「Working tree」與「指定 commit 物件裡的那個 tree 物件」之間的差異。</li>
<li><code>git diff HEAD</code> 比對「Working tree」與「HEAD」之間的差異。</li>
<li><code>git diff --cached</code>比對「Staging Area」與「HEAD」之間的差異。(可改成 &ndash;staged)</li>
<li><code>git diff commit1(SHA1) commit2(SHA1)</code> 比較兩個 commit 差異。</li>
<li><code>git diff HEAD^ HEAD</code> 比較 HEAD 和 HEAD^ 差異。</li>
<li><code>git diff BRANCH</code> 比較當下 branch 和指定 branch 的差異。</li>
</ul>


<h1>記錄</h1>

<h3>log</h3>

<ul>
<li><code>git log</code> 查詢歷史紀錄。</li>
<li><code>git log -10</code> 限定輸出最近幾筆紀錄。</li>
<li><code>git log --oneline --graph --all --decorate</code> 圖像化 log。</li>
<li><code>git log --oneline --author="leon"</code> 找出 leon 所有的 commit(<code>多個名稱 --author="leon1\|leon2"</code>)</li>
<li><code>git log --oneline --grep="rails"</code> 找出 commit 訊息有 rails 的字眼</li>
<li><code>git log -S "Ruby"</code> 找出 commit 的內容有包括 <code>Ruby</code> 的字</li>
<li><code>git log --oneline --since="9am" --until="12am"</code> 今天早上 9 點到 12 點之間所有的 Commit</li>
<li><code>git log --oneline --since="9am" --until="12am" --after="2017-01"</code>  2017 年 1 月之後，每天早上 9 點到 12 點的 Commit</li>
</ul>


<h3>reflog</h3>

<ul>
<li><code>git reflog</code> 可列印出所有「歷史紀錄」的版本變化。</li>
<li><code>git log -g</code> 顯示 reflog 的詳細版本記錄。</li>
<li><code>git reflog delete HEAD@{1}</code> 刪除特定幾個版本的歷史紀錄。</li>
</ul>


<p><a href="https://gitbook.tw/chapters/using-git/restore-hard-reset-commit.html">【狀況題】不小心使用 hard 模式 Reset 了某個 Commit，救得回來嗎？</a></p>

<h3>rev-parse</h3>

<p><code>git rev-parse</code></p>

<p>可以把任意「參考名稱」或「相對名稱」解析出「絕對名稱」sha1</p>

<ul>
<li><code>git rev-parse master</code> 看 master 的 sha1</li>
<li><code>git rev-parse HEAD</code> 看 HEAD 的 sha1</li>
<li><code>git rev-parse ORIG_HEAD</code></li>
<li><code>git rev-parse HEAD^</code></li>
<li><code>git rev-parse HEAD~5</code></li>
<li><code>git rev-parse --abbrev-ref HEAD</code> 看 HEAD 的 sha1 對應的 branch 名稱</li>
</ul>


<h1>標籤</h1>

<ul>
<li><code>git tag</code> 列出所有標籤。</li>
<li><code>git tag -n</code> 顯示標籤的列表和註解。</li>
<li><code>git tag [tagname]</code> 建立輕量標籤。</li>
<li><code>git tag [tagname] -d</code> 刪除輕量標籤。</li>
<li><code>git tag [tagname] -am [版本訊息]</code> 建立標示標籤</li>
</ul>


<blockquote><ol>
<li>輕量標籤 (lightweight tag)

<ul>
<li>不可變更的暫時標籤</li>
<li>可以添加名稱</li>
</ul>
</li>
<li>標示標籤 (annotated tag)

<ul>
<li>可以添加打標簽者的名稱、email及日期</li>
<li>可以添加名稱</li>
<li>可以添加註解</li>
<li>可以添加簽名</li>
</ul>
</li>
</ol>
</blockquote>

<h3>push 標籤</h3>

<ul>
<li><code>git push origin v1.5</code> git push 並不會把標籤上傳到遠端，所以必須透過底下才行</li>
<li><code>git push origin --tags</code> 用 –tags 一次上傳上去</li>
</ul>


<h3>刪除標籤</h3>

<ul>
<li><code>git push origin :refs/tags/my_tag</code></li>
<li><code>git tag -d &lt;tagname&gt;&lt;/tagname&gt;</code></li>
</ul>


<p><a href="https://blog.wu-boy.com/2010/11/git-%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E6%A8%99%E7%B1%A4tag/">[Git] 版本控制: 如何使用標籤(Tag)</a></p>

<h1>commit 順序</h1>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>schema
</span><span class='line'>refactor 現有的架構
</span><span class='line'>new feture
</span><span class='line'>refactor new feature
</span><span class='line'>hotfix</span></code></pre></td></tr></table></div></figure>


<h1>Blame</h1>

<ul>
<li><code>git blame [filename]</code> 可以看最後一個 commit 的人是誰</li>
<li><code>git blame -L [開始行數],[結束行數] [filename]</code></li>
</ul>


<h1>submodule</h1>

<p><a href="http://blog.chh.tw/posts/git-submodule/">Git Submodule 用法筆記</a></p>

<h1>git-bisect</h1>

<p>利用 git 的 二分找法，來找出當初錯誤的版本是從哪個開始</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">git</span> <span class="n">bisect</span> <span class="n">start</span> <span class="c1">#開始</span>
</span><span class='line'>
</span><span class='line'><span class="n">git</span> <span class="n">bisect</span> <span class="n">good</span> <span class="mi">4</span><span class="n">b274b160</span> <span class="c1">#設定好的 commit SHA1</span>
</span><span class='line'><span class="n">git</span> <span class="n">bisect</span> <span class="n">bad</span>  <span class="mo">07</span><span class="mi">9944</span><span class="n">e6</span>  <span class="c1">#設定壞的 commit SHA1</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#接著就會從兩個 commit 中間的 commit 去問，是否這個 commit 是好的，可以回答</span>
</span><span class='line'><span class="c1">#git bisect good</span>
</span><span class='line'><span class="c1">#git bisect bad</span>
</span><span class='line'><span class="c1">#就會根據回答，再下去做二分法，直到找到，一開始壞的 commit 在哪</span>
</span><span class='line'>
</span><span class='line'><span class="n">git</span> <span class="n">bisect</span> <span class="n">reset</span> <span class="c1">#結束</span>
</span></code></pre></td></tr></table></div></figure>


<h1>git format-patch</h1>

<p>git 製作成 patch 檔 然後 merge</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#最新的n個 commit</span>
</span><span class='line'><span class="n">git</span> <span class="nb">format</span><span class="o">-</span><span class="n">patch</span> <span class="o">-</span><span class="n">n</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#清除之前的訊息</span>
</span><span class='line'><span class="n">git</span> <span class="n">am</span> <span class="o">--</span><span class="nb">abort</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#上patch</span>
</span><span class='line'><span class="n">git</span> <span class="n">am</span> <span class="n">xxx</span><span class="o">.</span><span class="n">patch</span>
</span><span class='line'><span class="n">git</span> <span class="n">am</span> <span class="o">*.</span><span class="n">patch</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="http://chris800731.blogspot.tw/2013/08/git-format-patch-commit-use-format.html">【Git】使用 format-patch 將 commit 打包成檔案 Use format-patch to carry commit</a></li>
<li><a href="https://git-scm.com/book/zh-tw/v1/%E5%88%86%E6%95%A3%E5%BC%8F-Git-%E5%B0%88%E6%A1%88%E7%9A%84%E7%AE%A1%E7%90%86">5.3 分散式 Git - 專案的管理</a></li>
</ul>


<h1>其他</h1>

<h3>gitkeep</h3>

<ul>
<li><code>.gitkeep</code> 空目錄不會被 commit，必要時在目錄裡放 <code>.gitkeep</code>。</li>
</ul>


<h3>.gitignore</h3>

<ul>
<li><code>vi .gitignore</code> 編輯不要 commit 的檔案 此檔案也要 commit，通常是比較敏感的檔案，像是密碼之類的。</li>
</ul>


<p><a href="https://github.com/github/gitignore">.gitignore ⼤集合</a>
<a href="http://stackoverflow.com/questions/11451535/gitignore-not-working">.gitignore not working</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">git</span> <span class="n">rm</span> <span class="o">-</span><span class="n">r</span> <span class="o">--</span><span class="n">cached</span> <span class="o">.</span>
</span><span class='line'><span class="n">git</span> <span class="n">add</span> <span class="o">.</span>
</span><span class='line'><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;fixed untracked files&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>移除已經上 github 的敏感檔案</h3>

<ul>
<li><a href="https://help.github.com/articles/remove-sensitive-data/">移除 git 上敏感檔案</a></li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">git</span> <span class="n">filter</span><span class="o">-</span><span class="n">branch</span> <span class="o">--</span><span class="n">force</span> <span class="o">--</span><span class="n">index</span><span class="o">-</span><span class="n">filter</span> <span class="s1">&#39;git rm --cached --ignore-unmatch 檔案名稱&#39;</span> <span class="o">--</span><span class="n">prune</span><span class="o">-</span><span class="n">empty</span> <span class="o">--</span><span class="n">tag</span><span class="o">-</span><span class="nb">name</span><span class="o">-</span><span class="n">filter</span> <span class="n">cat</span> <span class="o">--</span> <span class="o">--</span><span class="n">all</span>
</span><span class='line'>
</span><span class='line'><span class="n">git</span> <span class="n">filter</span><span class="o">-</span><span class="n">branch</span> <span class="o">--</span><span class="n">tree</span><span class="o">-</span><span class="n">filter</span> <span class="s2">&quot;rm -f config/database.yml&quot;</span>
</span><span class='line'><span class="c1"># filter-branch 這個指令可以讓你根據不同的 filter，一個一個 Commit 的來處理它。</span>
</span><span class='line'><span class="c1"># --tree-filter 這個 filter，它可以讓你在 Checkout 到每個 Commit 的時候執行你指定的指令，執行完後再自動幫你重新再 Commit</span>
</span></code></pre></td></tr></table></div></figure>


<h3>開乾淨的 branch</h3>

<p><a href="http://stackoverflow.com/questions/13969050/how-to-create-a-new-empty-branch-for-a-new-project">How to create a new empty branch for a new project</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">git</span> <span class="n">checkout</span> <span class="o">--</span><span class="n">orphan</span> <span class="o">&lt;</span><span class="n">branchname</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>複製遠端的 branch 到本地新的 branch</h3>

<ol>
<li>先 <code>git checkout</code> 到遠端的 branch，在遠端的 branch <code>git checkout branch</code>複製切到本地</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">git</span> <span class="n">checkout</span> <span class="n">origin</span><span class="o">/</span><span class="n">development</span>
</span><span class='line'><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">development</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>直接 fetch 遠端 branch 下來到新的 branch</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">git</span> <span class="n">fetch</span> <span class="n">origin</span> <span class="o">&lt;</span><span class="n">remote_branch_name</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="n">local_branch_name</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>移除 untracked file</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#Show what will be deleted with the -n option</span>
</span><span class='line'><span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">f</span> <span class="o">-</span><span class="n">n</span>
</span><span class='line'><span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">f</span>
</span><span class='line'><span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">df</span> <span class="c1">#刪除 untracked directory</span>
</span><span class='line'><span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">fX</span> <span class="c1"># 清除被忽略的檔案</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://stackoverflow.com/questions/61212/how-do-i-remove-local-untracked-files-from-my-current-git-branch">How do I remove local (untracked) files from my current Git branch?</a></p>

<h3>針對每個節點刪除特定檔案</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">git</span> <span class="n">fliter</span><span class="o">-</span><span class="n">branch</span> <span class="o">--</span><span class="n">tree</span><span class="o">--</span><span class="n">filter</span> <span class="s2">&quot;rm -f config/password.txt&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>移除local 遠端 branch</h3>

<p>clear any remote-tracking branch which is no longer exist on the remote.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">git</span> <span class="n">fetch</span> <span class="o">--</span><span class="n">prune</span>
</span></code></pre></td></tr></table></div></figure>


<h3>git 垃圾回收</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">git</span> <span class="n">gc</span>
</span></code></pre></td></tr></table></div></figure>


<h3>拯救已被刪除的 branch</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># 看目前 branch 的 sha1</span>
</span><span class='line'><span class="n">git</span> <span class="n">rev</span><span class="o">-</span><span class="n">parse</span> <span class="o">&lt;</span><span class="n">branch</span> <span class="nb">name</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># 或使用 git reflog 找找看有沒有之前的記錄</span>
</span><span class='line'><span class="n">git</span> <span class="n">reflog</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># 建立新的 branch 並給予 sha1</span>
</span><span class='line'><span class="n">git</span> <span class="n">branch</span> <span class="n">new_name</span> <span class="o">&lt;</span><span class="n">sha1</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>拯救已被 hard reset 的節點</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># 查看 log 節點的 sha1</span>
</span><span class='line'><span class="n">git</span> <span class="n">reflog</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># 強制回復到該節點</span>
</span><span class='line'><span class="n">git</span> <span class="n">reset</span> <span class="o">&lt;</span><span class="n">sha1</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">hard</span>
</span></code></pre></td></tr></table></div></figure>


<h3>拯救已刪除的檔案</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># 會列出一堆檔案的 bash</span>
</span><span class='line'><span class="n">git</span> <span class="n">fsck</span> <span class="o">--</span><span class="n">cache</span> <span class="o">--</span><span class="n">unreachable</span>
</span><span class='line'><span class="c1"># 逐一檢視檔案內容即可救回失去的檔案 </span>
</span><span class='line'><span class="n">git</span> <span class="n">show</span> <span class="o">&lt;</span><span class="nb">hash</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="http://blog.hsatac.net/2012/07/git-restore-removed-files/">Git 救回已刪除的檔案</a></li>
</ul>


<h3>取的 remote git 資訊</h3>

<ul>
<li><a href="https://git-scm.com/docs/git-ls-remote.html">git-ls-remote</a></li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># 顯示特定遠端儲存庫的參照名稱。包含遠端分支與遠端標籤 -h 遠端 heads,  -t 顯示 tag </span>
</span><span class='line'><span class="n">git</span> <span class="n">ls</span><span class="o">-</span><span class="n">remote</span> <span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>


<h1>alias</h1>

<p>自己設定的一些 alias</p>

<p>可以建立在 <code>~/.gitconfig</code> 裡面，但是前面 <code>git</code> 就無法縮寫成 <code>g</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="k">alias</span><span class="o">]</span>
</span><span class='line'>  <span class="n">co</span> <span class="o">=</span> <span class="n">checkout</span>
</span><span class='line'>  <span class="n">br</span> <span class="o">=</span> <span class="n">branch</span>
</span><span class='line'>  <span class="n">st</span> <span class="o">=</span> <span class="n">status</span>
</span><span class='line'>  <span class="n">l</span>  <span class="o">=</span> <span class="n">log</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">graph</span>
</span><span class='line'>  <span class="n">ls</span> <span class="o">=</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">pretty</span><span class="o">=</span><span class="nb">format</span><span class="ss">:&quot;%h &lt;%an&gt; %ar %s&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>也可以建立新的檔案 <code>.aliases</code>, 並在 <code>.zshrc</code> 加上 <code>source ~/.aliases</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#base</span>
</span><span class='line'><span class="k">alias</span> <span class="n">g</span><span class="o">=</span><span class="s1">&#39;git&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="k">alias</span> <span class="n">grs</span><span class="o">=</span><span class="s1">&#39;git reset&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gst</span><span class="o">=</span><span class="s1">&#39;git status&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gd</span><span class="o">=</span><span class="s1">&#39;git diff&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gdca</span><span class="o">=</span><span class="s1">&#39;git diff --cached&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#git add</span>
</span><span class='line'><span class="k">alias</span> <span class="n">ga</span><span class="o">=</span><span class="s1">&#39;git add&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gaa</span><span class="o">=</span><span class="s1">&#39;git add --all&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gap</span><span class="o">=</span><span class="s1">&#39;git add --patch&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#git commit</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gc</span><span class="o">=</span><span class="s1">&#39;git commit&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gcm</span><span class="o">=</span><span class="s1">&#39;git commit -m&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gcm!</span><span class="o">=</span><span class="s1">&#39;git commit --amend -m&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gcam</span><span class="o">=</span><span class="s1">&#39;git commit -a -m&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#git merge</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gm</span><span class="o">=</span><span class="s1">&#39;git merge&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gmo</span><span class="o">=</span><span class="s1">&#39;git merge origin&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#branch</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gb</span><span class="o">=</span><span class="s1">&#39;git branch&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gbd</span><span class="o">=</span><span class="s1">&#39;git branch -d&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gbr</span><span class="o">=</span><span class="s1">&#39;git branch --remote&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gba</span><span class="o">=</span><span class="s1">&#39;git branch -a&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># merged branch delete</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gbmd</span><span class="o">=</span><span class="s1">&#39;git branch --merged | egrep -v &quot;(^\*|master|dev)&quot; | xargs git branch -d&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gbrmd</span><span class="o">=</span><span class="s1">&#39;git branch -r --merged | egrep -v &quot;(^\*|master|dev)&quot; | xargs git branch -r -d&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#git push</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gp</span><span class="o">=</span><span class="s1">&#39;git push&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gpo</span><span class="o">=</span><span class="s1">&#39;git push origin&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gcp</span><span class="o">=</span><span class="s1">&#39;git cherry-pick&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gpd</span><span class="o">=</span><span class="s1">&#39;git push --dry-run&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gpoat</span><span class="o">=</span><span class="s1">&#39;git push origin --all &amp;&amp; git push origin --tags&#39;</span>
</span><span class='line'><span class="n">compdef</span> <span class="n">_git</span> <span class="n">gpoat</span><span class="o">=</span><span class="n">git</span><span class="o">-</span><span class="n">push</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gpu</span><span class="o">=</span><span class="s1">&#39;git push upstream&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gpv</span><span class="o">=</span><span class="s1">&#39;git push -v&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#git pull</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gpl</span><span class="o">=</span><span class="s1">&#39;git pull&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gplo</span><span class="o">=</span><span class="s1">&#39;git pull origin&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gplrb</span><span class="o">=</span><span class="s1">&#39;git pull --rebase&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gplrbo</span><span class="o">=</span><span class="s1">&#39;git pull --rebase origin&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#git checkout</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gco</span><span class="o">=</span><span class="s1">&#39;git checkout&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gcob</span><span class="o">=</span><span class="s1">&#39;git checkout -b&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gcom</span><span class="o">=</span><span class="s1">&#39;git checkout master&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#git fetch origin</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gf</span><span class="o">=</span><span class="s1">&#39;git fetch&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gfo</span><span class="o">=</span><span class="s1">&#39;git fetch origin&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#git rebase</span>
</span><span class='line'><span class="k">alias</span> <span class="n">grb</span><span class="o">=</span><span class="s1">&#39;git rebase&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">grba</span><span class="o">=</span><span class="s1">&#39;git rebase --abort&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">grbc</span><span class="o">=</span><span class="s1">&#39;git rebase --continue&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">grbi</span><span class="o">=</span><span class="s1">&#39;git rebase -i&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">grbm</span><span class="o">=</span><span class="s1">&#39;git rebase master&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">grbs</span><span class="o">=</span><span class="s1">&#39;git rebase --skip&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#git stash</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gsta</span><span class="o">=</span><span class="s1">&#39;git stash save&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gstak</span><span class="o">=</span><span class="s1">&#39;git stash save --keep-index&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gstaa</span><span class="o">=</span><span class="s1">&#39;git stash apply&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gstd</span><span class="o">=</span><span class="s1">&#39;git stash drop&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gstl</span><span class="o">=</span><span class="s1">&#39;git stash list&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gstp</span><span class="o">=</span><span class="s1">&#39;git stash pop&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gsts</span><span class="o">=</span><span class="s1">&#39;git stash show&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gstc</span><span class="o">=</span><span class="s1">&#39;git stash clear&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gsts</span><span class="o">=</span><span class="s1">&#39;git stash show --text&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#git log</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gl</span><span class="o">=</span><span class="s1">&#39;git log&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">glg</span><span class="o">=</span><span class="s1">&#39;git log --stat --color&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">glgp</span><span class="o">=</span><span class="s1">&#39;git log --stat --color -p&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">glgg</span><span class="o">=</span><span class="s1">&#39;git log --graph --color&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">glgga</span><span class="o">=</span><span class="s1">&#39;git log --graph --decorate --all&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">glgm</span><span class="o">=</span><span class="s1">&#39;git log --graph --max-count=10&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">glo</span><span class="o">=</span><span class="s1">&#39;git log --oneline --decorate --color&#39;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">glol</span><span class="o">=</span><span class="s2">&quot;git log --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit&quot;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">glola</span><span class="o">=</span><span class="s2">&quot;git log --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit --all&quot;</span>
</span><span class='line'><span class="k">alias</span> <span class="n">glog</span><span class="o">=</span><span class="s1">&#39;git log --oneline --decorate --color --graph&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#git peco</span>
</span><span class='line'><span class="c1"># interactive checkout</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gcoi</span><span class="o">=</span><span class="s1">&#39;git checkout $(git branch | cut -c 3- | peco)&#39;</span>
</span><span class='line'><span class="c1"># interactive merge</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gmi</span><span class="o">=</span><span class="s1">&#39;git merge $(git branch | cut -c 3- | peco)&#39;</span>
</span><span class='line'><span class="c1"># interactive add</span>
</span><span class='line'><span class="k">alias</span> <span class="n">gai</span><span class="o">=</span><span class="s1">&#39;git add $(git status -s | cut -c 4- | peco)&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>官方文件：</p>

<ul>
<li><a href="http://git-scm.com/book/zh-tw/v1">Git Pro</a></li>
</ul>


<p>參考資料：</p>

<ul>
<li><a href="https://ihower.tw/git/">Git 版本控制系統</a></li>
<li><a href="https://github.com/doggy8088/Learn-Git-in-30-days">30 天精通 Git 版本控管</a></li>
<li><a href="https://backlogtool.com/git-guide/tw/reference/">連猴子都能懂的git入門</a></li>
<li><a href="http://blog.gogojimmy.net/2012/01/17/how-to-use-git-1-git-basic/">好麻煩部落格</a></li>
<li><a href="http://stackoverflow.com/questions/1085162/commit-only-part-of-a-file-in-git">Commit only part of a file in Git</a></li>
<li><a href="https://github.com/JuanitoFatas/git-style-guide">Git 風格指南</a></li>
<li><a href="http://chris.beams.io/posts/git-commit/">How to Write a Git Commit Message</a></li>
<li><a href="http://kaochenlong.com/2017/08/11/git-on-modern-web/">你知道 Git 是怎麼一回事嗎</a></li>
<li><a href="https://gitbook.tw/">為你自己學 Git</a></li>
<li><a href="https://kaochenlong.com/git-tips/">Git 小說連載系列</a></li>
</ul>


<p>練習：</p>

<ul>
<li><a href="https://try.github.io/levels/1/challenges%E3%84%8B/1">codeschool</a></li>
<li><a href="http://dylandy.github.io/Easy-Git-Tutorial/">Easy-Git-Tutorial</a></li>
<li><a href="http://pcottle.github.io/learnGitBranching/">learnGitBranching</a></li>
</ul>


<p>其他技巧：</p>

<ul>
<li><a href="https://ihower.tw/blog/archives/3843">使用 git rebase 避免無謂的 merge</a></li>
<li><a href="https://ihower.tw/blog/archives/5140">Git flow 開發流程</a></li>
<li><a href="http://nvie.com/posts/a-successful-git-branching-model/">A successful Git branching model</a></li>
<li><a href="http://danielkummer.github.io/git-flow-cheatsheet/index.zh_TW.html">git-flow 備忘清單</a></li>
<li><a href="http://jeffkreeftmeijer.com/2010/the-magical-and-not-harmful-rebase/">The magical (and not harmful) rebase</a></li>
<li><a href="http://chris.beams.io/posts/git-commit/#seven-rules">How to Write a Git Commit Message</a></li>
<li><a href="https://www.thinkful.com/learn/a-guide-to-using-github-pages/">A guide to using Github Pages</a></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  



  <span class="byline author vcard">Authored by <span class="fn">
  
    LeonJi
  
  </span></span>


      




<time class='entry-date' datetime='2015-12-27T20:56:35+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>8:56 pm</span></time>
      
      

<span class="categories">
  
    <a class='category' href='/blog/categories/git/'>git</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://mgleon08.github.com/blog/2015/12/27/git-command/" data-via="" data-counturl="http://mgleon08.github.com/blog/2015/12/27/git-command/" >Tweet</a>
  
  
  
    <div class="fb-like" data-layout="button_count" data-send="false" data-width="300" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/12/21/ruby-on-rails-view-helper-partial-yield/" title="Previous Post: Ruby on Rails - helper?partial?yield?">&laquo; Ruby on Rails - helper?partial?yield?</a>
      
      
        <a class="basic-alignment right" href="/blog/2016/01/03/backup/" title="Next Post: 用 backup 來備份資料庫">用 backup 來備份資料庫 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>


</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2019 - LeonJi -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace">Whitespace</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'leonji';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://mgleon08.github.com/blog/2015/12/27/git-command/';
        var disqus_url = 'http://mgleon08.github.com/blog/2015/12/27/git-command/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>






<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
