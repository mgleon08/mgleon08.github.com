<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Postgres | Leon's Blogging]]></title>
  <link href="https://mgleon08.github.io/blog/categories/postgres/atom.xml" rel="self"/>
  <link href="https://mgleon08.github.io/"/>
  <updated>2019-06-04T19:08:23+08:00</updated>
  <id>https://mgleon08.github.io/</id>
  <author>
    <name><![CDATA[LeonJi]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Postgres]]></title>
    <link href="https://mgleon08.github.io/blog/2019/06/04/postgres/"/>
    <updated>2019-06-04T18:56:17+08:00</updated>
    <id>https://mgleon08.github.io/blog/2019/06/04/postgres</id>
    <content type="html"><![CDATA[<!-- more -->


<h2>install</h2>

<pre><code class="sql">brew install postgresql
</code></pre>

<h2>Initdb</h2>

<pre><code class="sql">initdb /usr/local/var/postgres -E utf8
</code></pre>

<h2>Connect postgresql</h2>

<pre><code class="sql">psql
</code></pre>

<h2>Create DB</h2>

<pre><code class="sql">createdb &lt;dbname&gt;
</code></pre>

<p>or</p>

<pre><code class="sql">-- into postgres
psql
-- show all database
/l 
-- create database
CREATE DATABASE dbname;
</code></pre>

<h2>Connect to database</h2>

<pre><code class="sql">psql &lt;dbname&gt;
</code></pre>

<p>or</p>

<pre><code class="sql">psql
\l
\c &lt;dbname&gt;
</code></pre>

<h2>Dump db</h2>

<pre><code class="sql">pg_dump &lt;dbname&gt; &gt; &lt;filename&gt;
</code></pre>

<h2>Import db</h2>

<pre><code class="sql">psql &lt;filename&gt; &lt; &lt;dbname&gt;
</code></pre>

<h2>Connect to a remote database</h2>

<pre><code class="sql">psql -h &lt;host&gt; -p &lt;port&gt; -U &lt;username&gt;
</code></pre>

<h2>Create User</h2>

<pre><code class="sql">createuser testuser

-- or

--show users
/du+

CREATE USER &lt;username&gt;;
GRANT ALL PRIVILEGES ON DATABASE &lt;dbname&gt; TO &lt;username&gt;;
</code></pre>

<h2>Show Table</h2>

<pre><code class="sql">\dt+

-- or

SELECT * FROM pg_catalog.pg_tables;
</code></pre>

<h2>Show column</h2>

<pre><code class="sql">\d+ &lt;tablename&gt;

-- or

SELECT
 COLUMN_NAME
FROM
 information_schema.COLUMNS
WHERE
 TABLE_NAME = '&lt;tablename&gt;';
</code></pre>

<h2>other</h2>

<p> <a href="https://stackoverflow.com/questions/15537709/what-does-do-in-postgresql">syntax - What does :: do in PostgreSQL? - Stack Overflow</a></p>

<h2>Tool</h2>

<ul>
<li><a href="https://www.pgcli.com/">pgcli</a> - Pgcli is a command line interface for Postgres with auto-completion and syntax highlighting.</li>
<li><a href="https://eggerapps.at/postico/">Postico</a> - GUI client on mac</li>
<li><a href="https://github.com/pressly/goose">goose</a> - Goose database migration tool</li>
<li><a href="https://gist.github.com/Kartones/dd3ff5ec5ea238d4c546">postgres-cheatsheet</a></li>
</ul>

]]></content>
  </entry>
  
</feed>
